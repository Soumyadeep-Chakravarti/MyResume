import{r as i,j as e}from"./index-DmcEne5c.js";import{S as w,m as g}from"./SectionTitle-DU-kFHAR.js";import{C as k}from"./Card-DIVoqW1i.js";import"./SimplifiedResume-DH5ZBBsz.js";const n="Soumyadeep-Chakravarti",u="github_repos_cache",v=()=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md h-40 animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4 mb-4"}),e.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-5/6"})]});function R(){const[r,h]=i.useState(()=>{const t=localStorage.getItem(u);return t?JSON.parse(t):[]}),[m,o]=i.useState(r.length===0),[l,d]=i.useState(null);i.useEffect(()=>{(async()=>{r.length===0&&o(!0);try{const a=await fetch(`https://api.github.com/users/${n}/repos?sort=updated&per_page=6`);if(!a.ok){const s=await a.text();throw new Error(`Failed to fetch repos: ${a.status}. ${s.substring(0,50)}...`)}const c=(await a.json()).filter(s=>!s.fork).map(({name:s,description:f,html_url:x,stargazers_count:b,language:y,updated_at:j})=>({title:s,subtitle:f||"No description provided.",link:x,stars:b,language:y||"N/A",updatedAt:new Date(j).toLocaleDateString("en-US")}));h(c),localStorage.setItem(u,JSON.stringify(c)),d(null)}catch(a){console.error("GitHub Fetch Error:",a),r.length===0?d("Failed to load projects. Please try again later."):console.warn("Using cached data due to failed revalidation.")}finally{o(!1)}})()},[n]);const p=m&&r.length===0?Array(6).fill(null):r;return l&&r.length===0?e.jsx("section",{id:"projects",className:"min-h-screen flex justify-center items-center",children:e.jsxs("p",{className:"text-red-500 dark:text-red-400 p-4 border border-red-500 rounded-lg",children:["⚠️ ",l]})}):e.jsxs("section",{id:"projects",className:`min-h-screen flex flex-col justify-center items-center px-4 py-20 
                 bg-gray-100 dark:bg-[#131722] transition-colors duration-500`,children:[e.jsx(w,{text:"Projects"}),e.jsx(g.div,{className:"mt-10 grid grid-cols-1 md:grid-cols-2 gap-8 max-w-5xl w-full",initial:"hidden",animate:"visible",variants:{visible:{transition:{staggerChildren:.1}}},children:p.map((t,a)=>e.jsx(g.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.3},transition:{duration:.5,delay:a*.05},children:t?e.jsx(k,{title:t.title,subtitle:t.subtitle,link:t.link,stars:t.stars,language:t.language,updatedAt:t.updatedAt}):e.jsx(v,{})},t?.title||a))}),e.jsxs("a",{href:`https://github.com/${n}`,target:"_blank",rel:"noopener noreferrer",className:"mt-12 text-teal-600 dark:text-teal-400 font-semibold hover:underline",children:["View All ",">"]})]})}export{R as default};
